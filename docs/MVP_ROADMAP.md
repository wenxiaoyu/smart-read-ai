# 智阅AI MVP 迭代路线图

## 概述

本文档定义了智阅AI产品的 MVP（最小可行产品）迭代计划。采用 3 个阶段的迭代开发，每个阶段 2-3 周，逐步交付核心功能，快速验证产品价值。

## 迭代策略

### 为什么采用 MVP 迭代？

1. **快速验证核心价值** - 优先实现最核心的专业内容解析功能，快速验证用户需求
2. **降低开发风险** - 分阶段攻克技术难点，避免功能堆积
3. **及早获取反馈** - 每个迭代都能交付可用功能，及时收集用户反馈
4. **保持开发节奏** - 明确的里程碑和交付物，保持团队节奏

### 迭代原则

- **独立交付** - 每个迭代都能独立交付可用功能
- **向后兼容** - 后续迭代不破坏前期功能
- **用户价值优先** - 优先实现对用户价值最大的功能
- **技术债务可控** - 在快速迭代和代码质量间保持平衡

## MVP-1: 核心阅读辅助（2-3周）

### 目标

验证云端AI专业内容解析的核心价值，建立产品基础架构。

**技术调整**: 由于中国大陆无法使用 Gemini Nano，MVP-1 采用云端 AI（文心一言）+ 本地规则引擎的方案。

### 核心功能

#### ✅ 必须实现 (P0)
- **划词工具栏** - 选中文本后自动弹出工具栏（简化、解释、复制）
- **云端AI解析** - 使用文心一言 4.0 进行长难句简化和术语解释
- **本地规则引擎** - 离线备选方案，保证基础功能可用
- **注入式UI** - AI 结果直接注入网页，无需跳转
- **基础设置** - 主题切换、功能开关、API 密钥配置
- **降级策略** - 云端AI不可用时的规则引擎备选

#### 🔄 可选实现 (P1)
- 右键菜单集成
- 术语解释缓存（24小时）
- 预置 1000+ 技术术语库

#### ❌ 不实现
- 多模型切换
- 知识收藏
- 代码/公式解析

### 技术重点

- Chrome Extension Manifest V3 架构
- 文心一言 4.0 API 集成
- 本地规则引擎（中文分词 + 术语库）
- Shadow DOM 样式隔离
- Content Script 消息通信
- API 密钥安全存储（AES 加密）

### 成功指标

- 划词工具栏弹出延迟 ≤ 0.5秒
- 云端AI响应延迟 ≤ 3秒
- 规则引擎响应延迟 ≤ 0.5秒
- 内存占用 ≤ 50MB
- 支持主流技术文档网站（GitHub、掘金、CSDN、Stack Overflow）

### 交付物

- 可安装的 Chrome 插件（开发版）
- 基础用户使用指南
- 技术架构文档

## MVP-2: 云端增强与知识沉淀（2-3周）

### 目标

扩展AI能力，引入知识管理，为差异化功能奠定基础。

### 核心功能

#### ✅ 必须实现 (P0)
- **多模型支持** - 集成通义千问、智谱 GLM-4
- **API密钥管理** - 支持多个 API 密钥配置和切换
- **代码解析** - 支持 Python/JavaScript/Java/Go 代码片段解析
- **公式解析** - 支持 LaTeX 公式解析
- **知识收藏** - 保存重要内容到本地知识库
- **Token计数** - 统计各模型 Token 消耗，设置预算提醒

#### 🔄 可选实现 (P1)
- 代码语法高亮
- 公式可视化渲染
- 简单关键词检索
- 支持更多编程语言（Rust、TypeScript）

#### ❌ 不实现
- 国外模型（GPT-4、Claude）
- 知识图谱关联
- 自然语言检索

### 技术重点

- 多云端API集成（文心一言、通义千问、智谱 GLM-4）
- IndexedDB 知识存储
- AES-256-GCM 加密
- Token 计数与预算控制
- 代码高亮库集成（highlight.js）

### 成功指标

- 云端AI响应延迟 ≤ 10秒
- 知识节点保存 ≤ 0.5秒
- API密钥加密存储
- 支持学术论文网站（arXiv、ScienceDirect）

### 交付物

- 支持云端AI的完整插件
- API密钥配置指南
- 知识管理使用文档

## MVP-3: 高级功能与商业化（2-3周）

### 目标

完善差异化功能，准备商业化，打造产品竞争力。

### 核心功能

#### ✅ 必须实现 (P0)
- **模型优化** - 优化各模型的提示词，提升解析准确率
- **多文档对比** - 对比分析 2-5 篇文档的核心信息
- **知识图谱** - 自动构建知识节点关联关系
- **自然语言检索** - 用自然语言查询知识库
- **付费功能区分** - 免费版与付费版功能区分
- **试用机制** - 新用户 7 天高级版试用

#### 🔄 可选实现 (P1)
- 知识图谱可视化
- 跨会话上下文记忆
- 行业知识库定制
- 支持国外模型（需要代理）

#### ❌ 不实现
- 私有模型接入
- 云端数据同步
- 移动端支持

### 技术重点

- 提示词工程优化
- TF-IDF + 余弦相似度算法
- 向量检索
- 订阅管理与功能门控
- 多文档对比算法

### 成功指标

- 知识图谱构建 ≤ 5秒（100个节点）
- 自然语言检索 ≤ 2秒
- 多文档对比 ≤ 10秒（3篇文档）
- 内存占用 ≤ 100MB

### 交付物

- 完整功能的 V1.0 版本
- Chrome Web Store 上线
- 完整用户文档和FAQ
- 隐私政策和用户协议

## 功能对比表

| 功能模块 | MVP-1 | MVP-2 | MVP-3 |
|---------|-------|-------|-------|
| **基础交互** |
| 划词工具栏 | ✅ | ✅ | ✅ |
| 注入式结果展示 | ✅ | ✅ | ✅ |
| 右键菜单 | 🔄 | ✅ | ✅ |
| **AI能力** |
| 云端AI（文心一言） | ✅ | ✅ | ✅ |
| 本地规则引擎 | ✅ | ✅ | ✅ |
| 长难句简化 | ✅ | ✅ | ✅ |
| 术语解释 | ✅ | ✅ | ✅ |
| 代码解析 | ❌ | ✅ | ✅ |
| 公式解析 | ❌ | ✅ | ✅ |
| 多模型支持 | ❌ | ✅ | ✅ |
| 多文档对比 | ❌ | ❌ | ✅ |
| **知识管理** |
| 知识收藏 | ❌ | ✅ | ✅ |
| 关键词检索 | ❌ | 🔄 | ✅ |
| 自然语言检索 | ❌ | ❌ | ✅ |
| 知识图谱构建 | ❌ | ❌ | ✅ |
| 图谱可视化 | ❌ | ❌ | 🔄 |
| **成本控制** |
| Token计数 | ❌ | ✅ | ✅ |
| 预算管理 | ❌ | ✅ | ✅ |
| **商业化** |
| 免费功能 | ✅ | ✅ | ✅ |
| 付费功能区分 | ❌ | ❌ | ✅ |
| 试用机制 | ❌ | ❌ | ✅ |

**图例**: ✅ 必须实现 | 🔄 可选实现 | ❌ 不实现

## 技术架构演进

### MVP-1 架构

```
Content Script (划词交互)
       ↓
Background Worker (AI引擎调度)
       ↓
├─ 云端AI引擎 (文心一言)
└─ 规则引擎 (离线备选)
```

### MVP-2 架构

```
Content Script (划词交互 + 收藏)
       ↓
Background Worker (AI引擎调度)
       ↓
├─ 云端AI引擎 (文心一言/通义千问/智谱GLM-4)
├─ 规则引擎 (离线备选)
└─ 存储管理 (Chrome Storage + IndexedDB)
```

### MVP-3 架构

```
Content Script (完整交互)
       ↓
Background Worker (统一调度)
       ↓
├─ 云端AI引擎 (文心一言/通义千问/智谱GLM-4)
├─ 规则引擎 (离线备选)
├─ 知识图谱引擎 (TF-IDF + 向量检索)
├─ 存储管理 (Chrome Storage + IndexedDB)
└─ 订阅管理 (功能门控)
```

## 风险与缓解

### 技术风险

| 风险 | 影响 | 缓解措施 | 负责阶段 |
|------|------|----------|----------|
| 云端API调用失败率高 | 高 | 实现重试机制和规则引擎降级 | MVP-1 |
| API密钥泄露风险 | 高 | AES加密存储，不上传云端 | MVP-1 |
| 文心一言API限流 | 中 | 实现请求队列和限流控制 | MVP-1 |
| 不同网站样式冲突 | 中 | 使用 Shadow DOM 隔离 | MVP-1 |

### 产品风险

| 风险 | 影响 | 缓解措施 | 负责阶段 |
|------|------|----------|----------|
| MVP-1 依赖云端API | 高 | 提供规则引擎离线备选 | MVP-1 |
| 用户不愿提供API密钥 | 高 | 提供详细安全说明和免费额度 | MVP-1 |
| 付费转化率低 | 中 | 强化付费功能价值 | MVP-3 |
| 知识图谱使用意愿低 | 中 | 全自动构建，降低门槛 | MVP-3 |

### 市场风险

| 风险 | 影响 | 缓解措施 | 负责阶段 |
|------|------|----------|----------|
| 竞品功能更强 | 中 | 快速迭代，差异化竞争 | 全阶段 |
| Chrome Web Store 审核不通过 | 高 | 严格遵循审核规范 | MVP-3 |
| 目标用户获取困难 | 中 | 深耕技术社区，口碑传播 | MVP-3 |

## 时间线

```
Week 1-3: MVP-1 开发
├─ Week 1: 基础架构 + Content Script + 规则引擎
├─ Week 2: 文心一言API集成 + 加密存储
└─ Week 3: 降级策略 + 测试优化 + 文档

Week 4-6: MVP-2 开发
├─ Week 4: 多模型集成（通义千问、智谱GLM-4）
├─ Week 5: 代码/公式解析 + 知识存储
└─ Week 6: Token管理 + 测试优化

Week 7-9: MVP-3 开发
├─ Week 7: 提示词优化 + 多文档对比
├─ Week 8: 知识图谱 + 自然语言检索
└─ Week 9: 付费功能 + 上线准备

Week 10: 上线与运营
├─ Chrome Web Store 提交
├─ 用户内测
└─ 收集反馈，规划下一步
```

## 后续迭代方向

### V1.1 - 功能增强（上线后 1-2 个月）
- 跨会话上下文记忆
- 知识图谱可视化优化
- 行业知识库定制
- 批量文档处理

### V1.2 - 集成与扩展（上线后 3-4 个月）
- Notion 集成
- Obsidian 集成
- VS Code 集成
- 导出为 Markdown/PDF

### V2.0 - 企业版（上线后 6 个月）
- 团队订阅支持
- 私有模型接入
- 云端数据同步
- 数据分析后台

## 成功指标

### MVP-1 成功指标
- [ ] 插件可正常安装和运行
- [ ] 文心一言API调用成功率 > 95%
- [ ] 规则引擎离线可用
- [ ] 云端AI解析准确率 > 80%
- [ ] 用户反馈核心功能可用
- [ ] 无严重性能问题

### MVP-2 成功指标
- [ ] 多模型切换正常工作
- [ ] 知识收藏功能正常使用
- [ ] Token计数准确无误
- [ ] 代码/公式解析准确率 > 75%
- [ ] 用户开始积累知识节点

### MVP-3 成功指标
- [ ] Chrome Web Store 审核通过
- [ ] 知识图谱构建准确率 > 70%
- [ ] 多文档对比功能可用
- [ ] 试用转化率 > 5%
- [ ] 用户留存率 > 30%（7天）

## 总结

通过 3 个阶段的 MVP 迭代，我们将在 9-10 周内完成智阅AI V1.0 的开发和上线。每个阶段都有明确的目标和交付物，确保产品价值逐步验证和积累。

**核心原则**：
- 快速验证，及时调整
- 用户价值优先
- 技术债务可控
- 保持开发节奏

**下一步行动**：
1. 审批 MVP 计划
2. 启动 MVP-1 开发
3. 建立用户反馈渠道
4. 准备技术文档
