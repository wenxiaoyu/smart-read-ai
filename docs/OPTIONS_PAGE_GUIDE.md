# Options 设置页使用指南

## 功能概览

Options 设置页是智阅 AI 的完整配置中心，采用毛玻璃效果（Glassmorphism）设计，完美适配浅色和暗黑模式。

## 如何访问

1. 在 Chrome 扩展管理页面（`chrome://extensions/`）找到"智阅 AI"
2. 点击"详细信息"
3. 点击"扩展程序选项"
4. 或者右键点击扩展图标，选择"选项"

## 功能模块

### 1. AI 配置

#### AI 服务商选择

**国内服务商**：
- **文心一言**（百度 AI）
  - 模型：ERNIE-Bot-turbo、ERNIE-Bot、ERNIE-Bot-4
- **通义千问**（阿里云 AI）
  - 模型：qwen-turbo、qwen-plus、qwen-max、qwen-max-longcontext
- **智谱 GLM-4**（智谱 AI）
  - 模型：glm-4、glm-4-air、glm-4-flash、glm-4-plus
- **DeepSeek**（深度求索）
  - 模型：deepseek-chat、deepseek-reasoner
- **Moonshot**（月之暗面）
  - 模型：moonshot-v1-8k、moonshot-v1-32k、moonshot-v1-128k
- **MiniMax**（稀宇科技）
  - 模型：abab6.5-chat、abab6.5s-chat、abab5.5-chat

**国际服务商**：
- **OpenAI**
  - 模型：gpt-4o、gpt-4o-mini、gpt-4-turbo、gpt-3.5-turbo
- **Claude**（Anthropic）
  - 模型：claude-3-5-sonnet、claude-3-5-haiku、claude-3-opus
- **Gemini**（Google AI）
  - 模型：gemini-2.0-flash-exp、gemini-1.5-pro、gemini-1.5-flash

**本地部署**：
- **本地部署**（私有模型）
  - 支持 Ollama、LM Studio、vLLM 等
  - 需要配置 API 端点地址

#### API 密钥配置
- 输入框支持显示/隐藏切换（👁️ / 🙈）
- 密钥安全存储在本地，不会上传到任何服务器
- 支持复制粘贴

#### API 端点配置（本地部署）
- 选择"本地部署"时显示
- 输入本地 API 端点地址（如：http://localhost:8000/v1）
- 支持 OpenAI 兼容格式
- 适用于 Ollama、LM Studio、vLLM 等本地服务

#### 模型选择
- 根据选择的服务商自动更新可用模型列表
- 下拉框选择，简单直观

#### 高级设置
- **单次请求最大 Token 数**
  - 范围：500 - 4000
  - 步进：100
  - 控制每次 AI 请求的最大 Token 数量

### 2. 界面设置

#### 主题设置
- **☀️ 浅色模式**：明亮清爽的界面
- **🌙 暗黑模式**：护眼的深色界面
- **🔄 跟随系统**：自动跟随系统主题设置

每个主题都有预览卡片，点击即可切换。

#### 语言设置
- 简体中文
- English（待实现）

#### 功能开关
- **启用自动翻译**：自动翻译选中的外语文本
- **启用知识库**：保存和管理您的知识节点

使用开关按钮，一键开启/关闭。

### 3. 数据管理

#### 数据导出
- 导出所有数据，包括设置和知识库
- 文件格式：JSON
- 文件名：`smartread-ai-backup-{时间戳}.json`

#### 危险操作
- **清除所有数据**：删除所有本地数据（不可恢复）
- **恢复默认设置**：重置所有设置为默认值

这些操作都有确认提示，防止误操作。

#### 关于信息
- 扩展名称：智阅 AI
- 版本号：自动读取 manifest.json
- 简介：一个帮助您更好地阅读和理解技术文档的 AI 助手

## 设计特点

### 毛玻璃效果
- 半透明背景 + 背景模糊
- 渐变色背景（紫色系）
- 柔和的阴影和边框

### 交互反馈
- 悬停效果：轻微上移 + 阴影增强
- 选中状态：边框高亮 + 背景渐变
- 按钮点击：按下动画
- 保存成功：按钮文字变为"✓ 已保存"（2秒后恢复）

### 响应式设计
- 桌面端：最大宽度 1200px，居中显示
- 移动端：自适应布局，单列显示

### 暗黑模式适配
- 自动检测系统主题偏好
- 所有颜色都有暗黑模式变体
- 保持良好的对比度和可读性

## 测试步骤

### 1. 基础功能测试

1. **打开 Options 页面**
   - 确认页面正常加载
   - 确认毛玻璃效果显示正常

2. **切换标签页**
   - 点击"AI 配置"、"界面设置"、"数据管理"
   - 确认标签页切换动画流畅
   - 确认内容正确显示

3. **AI 配置测试**
   - 选择不同的 AI 服务商
   - 确认模型列表自动更新
   - 输入 API 密钥
   - 点击显示/隐藏按钮
   - 调整 Token 数量

4. **界面设置测试**
   - 切换主题（浅色/暗黑/自动）
   - 确认主题立即生效
   - 切换功能开关
   - 确认开关动画流畅

5. **数据管理测试**
   - 点击"导出数据"
   - 确认文件下载成功
   - 点击"恢复默认设置"
   - 确认设置重置成功
   - 点击"清除所有数据"
   - 确认有确认提示

6. **保存设置测试**
   - 修改任意设置
   - 点击"保存设置"
   - 确认按钮显示"✓ 已保存"
   - 刷新页面
   - 确认设置已保存

### 2. 样式测试

1. **浅色模式**
   - 确认所有元素清晰可见
   - 确认毛玻璃效果正常
   - 确认悬停效果正常

2. **暗黑模式**
   - 切换系统主题为暗黑模式
   - 确认页面自动切换
   - 确认所有文字可读
   - 确认对比度足够

3. **响应式测试**
   - 调整浏览器窗口大小
   - 确认布局自适应
   - 确认移动端显示正常

### 3. 交互测试

1. **输入框测试**
   - 输入文本
   - 确认焦点样式
   - 确认占位符显示

2. **下拉框测试**
   - 打开下拉框
   - 选择选项
   - 确认选项更新

3. **开关按钮测试**
   - 点击开关
   - 确认动画流畅
   - 确认状态切换

4. **卡片选择测试**
   - 点击服务商卡片
   - 确认选中状态
   - 点击主题卡片
   - 确认选中状态

## 已知问题

目前没有已知问题。

## 下一步计划

1. 实现共享 UI 组件（Button、Input、Select 等）
2. 实现 Toast 通知组件
3. 添加更多动画效果
4. 优化性能
5. 跨网站兼容性测试

## 技术细节

### 文件结构
```
src/options/
├── index.html      # HTML 入口
├── main.tsx        # React 入口
├── Options.tsx     # 主组件
└── options.css     # 样式文件
```

### 数据存储
使用 Chrome Storage API：
```typescript
// 保存设置
chrome.storage.local.set({ settings })

// 读取设置
chrome.storage.local.get(['settings'], (result) => {
  // ...
})

// 清除数据
chrome.storage.local.clear()
```

### 状态管理
使用 React Hooks：
- `useState`：管理设置状态
- `useEffect`：加载初始设置

### CSS 技术
- Backdrop Filter：毛玻璃效果
- CSS Grid：响应式布局
- CSS Transitions：流畅动画
- Media Queries：暗黑模式适配

## 反馈

如有问题或建议，请联系开发团队。
