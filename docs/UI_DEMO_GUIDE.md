# 智阅AI UI Demo 使用指南

## 概述

这是智阅AI的高保真 UI Demo，展示完整的用户交互体验。所有 AI 解析、数据存储等业务逻辑使用 Mock 实现，但 UI 体验与真实产品完全一致。

## 快速开始

### 1. 安装 Demo

```bash
# 安装依赖
pnpm install

# 构建 Demo
pnpm build

# 或者开发模式（热重载）
pnpm dev
```

### 2. 加载到 Chrome

1. 打开 Chrome 浏览器
2. 访问 `chrome://extensions/`
3. 启用"开发者模式"（右上角开关）
4. 点击"加载已解压的扩展程序"
5. 选择项目的 `dist` 文件夹

### 3. 开始体验

访问任何网页（推荐测试网站见下文），选中文本即可触发划词工具栏。

## 核心功能演示

### 1. 划词工具栏

**操作步骤**：
1. 在网页中选中至少 5 个字符的文本
2. 工具栏自动在选中文本上方弹出
3. 点击"简化"、"解释"或"复制"按钮

**预期效果**：
- ✅ 工具栏平滑淡入（0.2秒动画）
- ✅ 按钮 hover 时有放大效果
- ✅ 3秒无操作自动消失
- ✅ 点击空白区域立即消失

**Mock 行为**：
- 点击"简化"或"解释"：显示结果卡片（1.5秒延迟）
- 点击"复制"：复制选中文本到剪贴板

### 2. AI 结果展示卡片

**操作步骤**：
1. 点击工具栏的"简化"或"解释"按钮
2. 观察加载状态
3. 查看 Mock 结果
4. 尝试展开/收起、复制、收藏操作

**预期效果**：
- ✅ 卡片在选中文本下方滑入
- ✅ 显示加载动画（Spinner + 提示文字）
- ✅ 1.5秒后显示 Mock 结果
- ✅ 展开/收起动画流畅
- ✅ 暗黑模式自动适配

**Mock 数据**：
- 简化：返回文本摘要
- 解释：返回术语解释（预置 100+ 术语）
- 代码：返回代码解析
- 公式：返回公式说明

### 3. Popup 弹窗

**操作步骤**：
1. 点击浏览器工具栏的插件图标
2. 查看知识检索、Token 统计
3. 尝试搜索功能

**预期效果**：
- ✅ 弹窗宽度 360px，高度自适应
- ✅ 显示 Mock Token 统计（12.3% 使用率）
- ✅ 显示进度条动画
- ✅ 搜索框可输入（Mock 结果）

**Mock 数据**：
- Token 使用：1,234 / 10,000
- 知识节点：5 个 Mock 节点
- 搜索结果：根据关键词返回 Mock 数据

### 4. Options 设置页

**操作步骤**：
1. 右键点击插件图标，选择"选项"
2. 查看各个设置区域
3. 尝试切换主题、选择模型

**预期效果**：
- ✅ 设置页在新标签页打开
- ✅ 主题切换立即生效
- ✅ 表单输入正常工作
- ✅ 保存按钮有反馈

**Mock 行为**：
- 所有设置保存到内存（刷新后重置）
- API 密钥显示为遮罩（••••••）
- 测试连接按钮显示 Mock 成功提示

## 推荐测试网站

### 技术文档类
- **GitHub**: https://github.com/facebook/react
  - 测试代码片段选中
  - 测试 Markdown 文档
  
- **Stack Overflow**: https://stackoverflow.com/questions
  - 测试问答内容
  - 测试代码块

- **MDN**: https://developer.mozilla.org/zh-CN/
  - 测试技术文档
  - 测试 API 说明

### 中文网站
- **掘金**: https://juejin.cn/
  - 测试中文技术文章
  - 测试代码示例

- **CSDN**: https://blog.csdn.net/
  - 测试博客文章
  - 测试样式兼容性

- **知乎**: https://www.zhihu.com/
  - 测试问答内容
  - 测试长文本

### 学术论文
- **arXiv**: https://arxiv.org/
  - 测试论文摘要
  - 测试公式（如果有）

## 测试场景

### 场景 1: 基础划词流程

1. 访问 GitHub 任意仓库的 README
2. 选中一段技术描述文字（如 "React is a JavaScript library..."）
3. 点击"简化"按钮
4. 等待 1.5 秒查看 Mock 结果
5. 点击"复制"按钮
6. 关闭结果卡片

**验证点**：
- [ ] 工具栏定位准确
- [ ] 动画流畅
- [ ] 加载状态正常
- [ ] Mock 结果显示正确
- [ ] 复制功能正常

### 场景 2: 术语解释

1. 访问技术文档网站
2. 选中一个技术术语（如 "React"、"TypeScript"、"API"）
3. 点击"解释"按钮
4. 查看预置的术语解释

**验证点**：
- [ ] 术语识别准确
- [ ] 解释内容合理
- [ ] 卡片样式正确

### 场景 3: 跨网站兼容性

1. 依次访问 GitHub、掘金、知乎
2. 在每个网站执行相同的划词操作
3. 观察 UI 是否一致

**验证点**：
- [ ] 样式完全一致
- [ ] 无样式冲突
- [ ] 功能正常工作

### 场景 4: 暗黑模式

1. 切换系统到暗黑模式
2. 刷新网页
3. 执行划词操作

**验证点**：
- [ ] UI 自动切换为暗黑主题
- [ ] 颜色对比度合适
- [ ] 文字清晰可读

### 场景 5: Popup 和 Options

1. 点击插件图标打开 Popup
2. 查看 Token 统计和知识节点
3. 右键点击图标打开 Options
4. 切换主题、选择模型

**验证点**：
- [ ] Popup 布局正确
- [ ] 统计数据显示正常
- [ ] Options 页面完整
- [ ] 设置保存成功（Mock）

## Mock 数据说明

### AI 响应 Mock

```typescript
// 简化
输入: "This is a complex technical sentence about React Hooks..."
输出: "这段文本的核心意思是：This is a complex... 主要讲述了技术实现的关键点。"

// 解释
输入: "React"
输出: "React 是一个用于构建用户界面的 JavaScript 库，由 Facebook 开发。"

// 代码解析
输入: "const [state, setState] = useState(0);"
输出: "这段代码的功能：1. 定义了一个函数/类 2. 实现了特定的业务逻辑..."
```

### 预置术语库（部分）

- React
- TypeScript
- JavaScript
- Python
- API
- REST
- GraphQL
- Docker
- Kubernetes
- Git
- ... (共 100+ 条)

### Token 统计 Mock

```json
{
  "provider": "wenxin",
  "month": "2026-01",
  "totalTokens": 12340,
  "budget": 100000,
  "cost": 0.15,
  "percentage": 12.3
}
```

### 知识节点 Mock

```json
[
  {
    "id": "1",
    "type": "term",
    "content": "React Hooks",
    "explanation": "React Hooks 是 React 16.8 引入的新特性...",
    "sourceUrl": "https://react.dev/reference/react",
    "createdAt": 1706342400000,
    "tags": ["React", "JavaScript", "前端"]
  }
]
```

## 性能基准

### 响应时间
- 划词工具栏弹出: < 100ms ✅
- 结果卡片渲染: < 50ms ✅
- Mock AI 响应: 1500ms（模拟真实延迟）✅

### 动画性能
- 所有动画: 60 FPS ✅
- 使用 GPU 加速: transform/opacity ✅

### 内存占用
- 初始加载: ~15MB ✅
- 运行时: ~25MB ✅
- 峰值: < 30MB ✅

## 已知限制

### Demo 限制
1. **无真实 AI 调用** - 所有 AI 响应使用 Mock 数据
2. **无数据持久化** - 刷新后所有设置重置
3. **术语库有限** - 仅预置 100+ 常用术语
4. **无错误处理** - 不模拟网络错误等异常情况

### 技术限制
1. **Shadow DOM 兼容性** - 需要 Chrome 53+
2. **CSS 变量支持** - 需要现代浏览器
3. **动画性能** - 低端设备可能不流畅

## 反馈收集

### 体验反馈表单

请在体验 Demo 后填写反馈：

1. **UI 美观度**: ⭐⭐⭐⭐⭐
2. **交互流畅度**: ⭐⭐⭐⭐⭐
3. **功能易用性**: ⭐⭐⭐⭐⭐
4. **跨网站兼容性**: ⭐⭐⭐⭐⭐

### 问题报告

如发现问题，请记录：
- 问题描述
- 复现步骤
- 测试网站
- 浏览器版本
- 截图/录屏

## 下一步

Demo 验证通过后，将进行：

1. **业务逻辑填充**
   - 集成真实 AI API（文心一言）
   - 实现数据持久化（IndexedDB）
   - 实现 Token 计数
   - 实现知识图谱

2. **功能完善**
   - 错误处理
   - 网络重试
   - 离线支持
   - 性能优化

3. **测试和发布**
   - 单元测试
   - 集成测试
   - 用户测试
   - Chrome Web Store 发布

## 常见问题

### Q: 为什么 AI 响应总是一样的？
A: 这是 Demo，使用 Mock 数据。真实版本会调用 AI API 返回不同结果。

### Q: 设置保存后刷新就没了？
A: Demo 使用内存存储。真实版本会持久化到 Chrome Storage。

### Q: 某些网站样式不对？
A: 请报告具体网站，我们会修复 Shadow DOM 隔离问题。

### Q: 如何切换到真实 AI？
A: 等待 MVP-1 开发完成，届时会集成文心一言 API。

## 联系方式

- 项目仓库: [GitHub URL]
- 问题反馈: [Issue URL]
- 邮件: [Email]

---

**祝体验愉快！** 🎉
