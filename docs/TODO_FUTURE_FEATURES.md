# 未实现功能清单 - 后续版本开发

本文档记录了 v0.1.1 版本中未实现的功能，供后续版本开发参考。

---

## 🚧 v0.2.0 计划功能

### 1. 知识库管理 ⏳
**优先级**：高  
**预计工作量**：2-3 周

**功能描述**：
- 保存简化/解释结果到本地知识库
- 创建、编辑、删除知识节点
- 为知识节点添加标签和分类
- 搜索和过滤知识节点
- 导出知识库数据

**相关文件**：
- `src/popup/Popup.tsx` - 搜索 UI 已完成，需要连接真实数据
- `src/mock/knowledge-data.ts` - Mock 数据，需要替换为真实存储
- 需要创建：`src/services/knowledge-service.ts`
- 需要创建：`src/services/storage-service.ts`

**技术要点**：
- 使用 Chrome Storage API 存储数据
- 实现全文搜索功能
- 支持数据导入/导出（JSON 格式）
- 考虑数据量大时的性能优化

---

### 2. 收藏功能 ⏳
**优先级**：高  
**预计工作量**：1 周

**功能描述**：
- 点击"收藏"按钮保存当前结果到知识库
- 自动提取元数据（领域、关键词、来源 URL）
- 支持添加自定义标签和笔记
- 在 Popup 中查看收藏列表

**相关文件**：
- `src/content/components/ResultCard.tsx` - 按钮已隐藏，需要恢复并实现功能
- `src/content/index.tsx` - `handleSaveResult` 方法需要完善
- 依赖：知识库管理功能

**技术要点**：
- 集成知识库服务
- 实现快速保存流程
- 添加保存成功/失败提示
- 支持重复保存检测

---

### 3. 来源功能 ⏳
**优先级**：中  
**预计工作量**：3-5 天

**功能描述**：
- 显示当前结果的来源信息（网页 URL、标题）
- 点击跳转到原始网页
- 支持复制来源链接
- 在知识库中记录来源信息

**相关文件**：
- `src/content/components/ResultCard.tsx` - 按钮已隐藏，需要恢复并实现功能
- `src/content/index.tsx` - 需要获取页面 URL 和标题

**技术要点**：
- 使用 `window.location.href` 获取 URL
- 使用 `document.title` 获取标题
- 实现链接复制功能
- 考虑跨域问题

---

### 4. Token 实时统计 ⏳
**优先级**：中  
**预计工作量**：1 周

**功能描述**：
- 实时统计 API 调用的 Token 使用量
- 按日期、服务商分类统计
- 设置 Token 预算和警告阈值
- 可视化展示使用趋势

**相关文件**：
- `src/popup/Popup.tsx` - UI 已完成，需要连接真实数据
- `src/mock/knowledge-data.ts` - Mock 数据，需要替换
- 需要创建：`src/services/token-tracker.ts`

**技术要点**：
- 在 API 调用时记录 Token 使用量
- 使用 Chrome Storage API 持久化数据
- 实现数据聚合和统计
- 添加预算警告功能

---

## 🔮 v0.3.0 计划功能

### 5. 代码解析 ⏳
**优先级**：高  
**预计工作量**：2 周

**功能描述**：
- 识别代码块（`<code>`, `<pre>`, 自定义元素）
- 解析代码功能和逻辑
- 添加注释和说明
- 支持多种编程语言

**相关文件**：
- `src/content/components/SelectionToolbar.tsx` - 需要添加"代码"按钮
- `src/content/components/ResultCard.tsx` - 需要支持 `type="code"`
- 需要创建：`src/services/code-parser.ts`

**技术要点**：
- 使用正则表达式或 AST 解析代码
- 集成代码高亮库（如 Prism.js）
- 设计代码解析的提示词
- 支持代码片段和完整文件

---

### 6. 公式解析 ⏳
**优先级**：中  
**预计工作量**：1-2 周

**功能描述**：
- 识别数学公式（LaTeX, MathML）
- 解释公式含义和应用场景
- 提供计算示例
- 支持公式渲染

**相关文件**：
- `src/content/components/SelectionToolbar.tsx` - 需要添加"公式"按钮
- `src/content/components/ResultCard.tsx` - 需要支持 `type="formula"`
- 需要创建：`src/services/formula-parser.ts`

**技术要点**：
- 集成 MathJax 或 KaTeX 渲染公式
- 设计公式解析的提示词
- 支持多种公式格式
- 处理复杂公式的分步解释

---

### 7. 自动翻译 ⏳
**优先级**：中  
**预计工作量**：1 周

**功能描述**：
- 自动检测外语文本
- 翻译为目标语言（中文/英文）
- 支持多种语言对
- 保留原文格式

**相关文件**：
- `src/options/Options.tsx` - 开关已存在，需要实现功能
- 需要创建：`src/services/translation-service.ts`

**技术要点**：
- 使用语言检测 API
- 集成翻译 API（可复用现有 AI 服务）
- 设计翻译提示词
- 支持批量翻译

---

### 8. 百度文心一言集成 ⏳
**优先级**：低  
**预计工作量**：3-5 天

**功能描述**：
- 集成百度文心一言 API
- 支持 ERNIE 系列模型
- 添加到 AI 服务商列表

**相关文件**：
- `src/options/Options.tsx` - UI 已完成，需要启用
- `src/services/ai/cloud-ai-engine.ts` - 需要添加文心一言支持
- `src/services/types.ts` - 已定义 `wenxin` 类型

**技术要点**：
- 研究文心一言 API 文档
- 实现 API 调用逻辑
- 适配提示词格式
- 测试和优化

---

## 🌟 v0.4.0 计划功能

### 9. 知识图谱可视化 ⏳
**优先级**：中  
**预计工作量**：2-3 周

**功能描述**：
- 可视化知识节点之间的关系
- 支持拖拽和缩放
- 按主题聚类显示
- 支持导出为图片

**技术要点**：
- 使用图可视化库（如 D3.js, Cytoscape.js）
- 实现节点关系算法
- 优化大规模数据渲染性能
- 设计交互体验

---

### 10. 协作功能 ⏳
**优先级**：低  
**预计工作量**：3-4 周

**功能描述**：
- 分享知识节点给其他用户
- 导入他人分享的知识
- 团队知识库
- 评论和讨论

**技术要点**：
- 需要后端服务支持
- 实现用户认证
- 设计分享协议
- 考虑隐私和安全

---

### 11. 自定义提示词模板 ⏳
**优先级**：中  
**预计工作量**：1 周

**功能描述**：
- 用户可以创建自定义提示词
- 保存和管理提示词模板
- 在工具栏中快速选择模板
- 支持变量和占位符

**技术要点**：
- 设计模板格式
- 实现模板管理 UI
- 支持模板导入/导出
- 提供默认模板库

---

### 12. 快捷键支持 ⏳
**优先级**：低  
**预计工作量**：3-5 天

**功能描述**：
- 自定义快捷键触发功能
- 支持全局快捷键
- 快捷键冲突检测
- 快捷键帮助文档

**技术要点**：
- 使用 Chrome Commands API
- 实现快捷键配置 UI
- 处理快捷键冲突
- 提供默认快捷键方案

---

## 📊 功能优先级矩阵

| 功能 | 优先级 | 用户价值 | 技术难度 | 预计版本 |
|------|--------|----------|----------|----------|
| 知识库管理 | 高 | 高 | 中 | v0.2.0 |
| 收藏功能 | 高 | 高 | 低 | v0.2.0 |
| Token 统计 | 中 | 中 | 低 | v0.2.0 |
| 来源功能 | 中 | 中 | 低 | v0.2.0 |
| 代码解析 | 高 | 高 | 中 | v0.3.0 |
| 公式解析 | 中 | 中 | 中 | v0.3.0 |
| 自动翻译 | 中 | 中 | 低 | v0.3.0 |
| 文心一言 | 低 | 低 | 低 | v0.3.0 |
| 知识图谱 | 中 | 中 | 高 | v0.4.0 |
| 协作功能 | 低 | 中 | 高 | v0.4.0 |
| 自定义模板 | 中 | 中 | 中 | v0.4.0 |
| 快捷键 | 低 | 低 | 低 | v0.4.0 |

---

## 🔧 技术债务

### 需要优化的部分
1. **性能优化**：
   - 大文本处理性能
   - Shadow DOM 样式注入优化
   - API 调用缓存机制

2. **代码重构**：
   - 提取公共组件
   - 统一错误处理
   - 改进类型定义

3. **测试覆盖**：
   - 添加单元测试
   - 添加集成测试
   - 添加 E2E 测试

4. **文档完善**：
   - API 文档
   - 开发者指南
   - 贡献指南

---

## 📝 开发注意事项

### 开发新功能时
1. 先查看本文档，了解功能需求和技术要点
2. 创建功能分支：`feature/功能名称`
3. 更新相关文档
4. 编写测试用例
5. 提交 PR 并请求 Code Review

### 更新本文档
- 功能完成后，将对应项标记为 ✅
- 添加实现日期和相关 PR 链接
- 更新技术要点和经验教训
- 如有新的未实现功能，添加到对应版本

---

## 📅 版本发布时间表

- **v0.1.1**：2026-01-28（当前版本）
- **v0.2.0**：2026-04-30（预计）
- **v0.3.0**：2026-07-31（预计）
- **v0.4.0**：2026-10-31（预计）

---

**最后更新**：2026-01-28  
**维护者**：[您的名字]
