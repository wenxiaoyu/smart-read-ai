# Change: 智阅AI MVP 迭代计划

## Why

智阅AI 产品需求文档定义了完整的功能集，但为了快速验证核心价值并降低开发风险，需要采用 MVP（最小可行产品）方式进行有节奏的迭代开发。通过分阶段交付核心功能，可以：
1. 快速验证产品核心价值（专业内容解析）
2. 及早获取用户反馈，调整产品方向
3. 降低技术风险，逐步攻克复杂功能
4. 保持开发节奏，避免功能堆积

## What Changes

将智阅AI V1.0 功能拆分为 3 个迭代阶段：

### MVP-1: 核心阅读辅助（2-3周）
- **目标**: 验证本地AI专业内容解析的核心价值
- **核心功能**:
  - 划词工具栏（简化、解释、复制）
  - 本地AI基础解析（长难句简化、术语解释）
  - 注入式结果展示
  - 基础设置页面
- **技术重点**: Chrome Extension 基础架构、Gemini Nano 集成、Content Script 注入

### MVP-2: 云端增强与知识沉淀（2-3周）
- **目标**: 扩展AI能力，引入知识管理
- **核心功能**:
  - 云端AI单模型支持（GPT-4）
  - 代码/公式解析
  - 基础知识收藏与本地存储
  - Token计数与基础预算提醒
- **技术重点**: 云端API集成、IndexedDB知识存储、加密安全

### MVP-3: 高级功能与商业化（2-3周）
- **目标**: 完善差异化功能，准备商业化
- **核心功能**:
  - 多云端模型切换（Claude、文心一言）
  - 多文档对比分析
  - 知识图谱构建与检索
  - 付费功能区分与试用机制
- **技术重点**: 知识图谱算法、自然语言检索、付费逻辑

## Impact

- **Affected specs**: 需要创建新的capability specs
  - `text-analysis` - 文本解析能力
  - `ai-integration` - AI集成能力
  - `knowledge-management` - 知识管理能力
  - `ui-interaction` - 用户交互能力
  
- **Affected code**: 全新项目，主要影响：
  - `src/background/` - AI引擎、消息处理
  - `src/content/` - 划词交互、注入式UI
  - `src/popup/` - 设置界面、知识检索
  - `src/options/` - 高级设置、数据管理

- **Documentation**: 需要更新
  - `openspec/project.md` - 添加迭代计划说明
  - `README.md` - 更新功能路线图
  - 新增 `docs/MVP_ROADMAP.md` - 详细迭代计划

## Risks

1. **Gemini Nano 兼容性**: Chrome 119+ 要求可能限制用户群
   - 缓解: 提供降级方案，优先开发规则引擎备选
   
2. **MVP-1 功能过于简单**: 可能无法充分验证产品价值
   - 缓解: 确保术语解释和长难句简化质量足够高
   
3. **迭代间依赖**: 后续迭代依赖前期架构设计
   - 缓解: MVP-1 阶段做好架构设计，预留扩展接口
